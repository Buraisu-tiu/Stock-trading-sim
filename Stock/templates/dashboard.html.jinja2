{% extends "base.html.jinja2" %}
{% block content %}
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&family=Smooch+Sans:wght@100..900&display=swap" rel="stylesheet">
</head>
<style>
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden;
    background: radial-gradient(circle, {{ user.gradient_color if user else 'rgba(16,0,32,1)' }} 0%, rgba(0,0,0,1) 20%, rgba(0,0,0,1) 100%);
    background-position: 28.2rem 12.7rem;
    background-attachment: fixed;
  }

  .minimal-dashboard {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 100vh;
    width: 100vw;
    overflow: hidden;
    padding: 20px;
    position: relative;
  }

  .header-container {
    text-align: left;
    max-width: 60%;
    z-index: 1;
    margin-top: -50px;
  }

  .stock-trading {
    font-size: 12vw;
    color: {{ user.text_color if user else 'rgb(255, 255, 255)' }};
    font-weight: 900;
    font-family: "Smooch Sans", serif;
    letter-spacing: 1rem;
    margin-bottom: -5rem;
    margin-top: -13rem;
    bottom-margin: -50px;
  }

  .made-free {
    font-size: 3vw;
    color: {{ user.text_color if user else 'rgb(255, 255, 255)' }};;
    font-family: "Merriweather", serif;
    font-weight: 400;
    font-style: normal;
    margin: 20px 0;
    padding-left: 1rem;
    transition: color 0.3s ease-in-out;
  }

  .made-free:hover {
    color:rgba(231, 230, 230, 0.78);
  }

  .credit-card-image {
    position: absolute;
    width: 250px;
    height: auto;
    top: 3%;
    left: 3%;
    transform: rotate(10deg);
    z-index: 2;
  }

  .circle-container {
    position: absolute;
    bottom: -450px;
    right: -450px;
    width: 1800px;
    height: 1800px;
    z-index: 0;
    overflow: visible;
  }

  .circle-container svg {
    transform: rotate(0deg);
    filter: drop-shadow(0 0 20px {{ user.accent_color if user else '#007bff' }});
    animation: rotate-circle 20s linear infinite;
  }

  .circle-container circle {
    stroke: {{ user.accent_color if user else '#007bff' }};
    fill: none;
    r: 880;
    stroke-width: 5;
    stroke-linecap: round;
    filter: drop-shadow(0 0 10px {{ user.accent_color if user else '#007bff' }});
  }

  .circle-container line {
    stroke: {{ user.accent_color if user else '#007bff' }};
    stroke-width: 3;
    x1: 900;
    y1: 0;
    x2: 900;
    y2: 900;
    filter: drop-shadow(0 0 10px {{ user.accent_color if user else '#007bff' }});
  }

  @keyframes rotate-circle {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .cta-button {
    display: inline-block;
    padding: 15px 30px;
    font-size: 1.2rem;
    font-weight: bold;
    color: #ffffff;
    background-color: {{ user.accent_color if user else '#007bff' }};
    border: none;
    border-radius: 5px;
    cursor: pointer;
    text-transform: uppercase;
    margin-top: 20px;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }

  .cta-button:hover {
    background-color: {{ user.accent_color if user else '#007bff' }};
    opacity: 0.8;
  }

  .transaction-history {
    position: absolute;
    bottom: 8.7rem;
    left: 1rem;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.5);
    width: 200px;
    font-size: 22px;
    color: #ffffff;
  }

  @media (max-width: 768px) {
    .stock-trading {
      font-size: 15vw;
    }
    .made-free {
      font-size: 4vw;
    }
    .credit-card-image {
      width: 150px;
      top: 20%;
    }
    .circle-container {
      width: 1200px;
      height: 1200px;
      bottom: -300px;
      right: -300px;
    }
  }
</style>

<div class="minimal-dashboard">
  <div class="header-container">
    <h1 class="stock-trading">TouZi</h1>
    <h2 class="made-free">Free Trading</h2>
    <a href="{{ url_for('buy') }}" class="cta-button">Get Started</a>
  </div>
  <img src="{{ url_for('static', filename='Images/credit_card.png') }}" alt="Stylized Credit Card" class="credit-card-image" aria-label="Credit Card Icon">
  <div class="circle-container">
    <svg width="1800" height="1800">
      <defs>
        <filter id="blur">
          <feGaussianBlur stdDeviation="1" />
        </filter>
      </defs>
      <circle cx="900" cy="900" r="880" filter="url(#blur)" />
      {% for i in range(50) %}
      <line 
        x1="900" 
        y1="100" 
        x2="900" 
        y2="800" 
        transform="rotate({{ i * 7.2 }} 900 900)" 
      />
      {% endfor %}
    </svg>
  </div>
  <div class="Important transaction-history">
    <p>Important Trades:</p>
    {% for transaction in transactions %}
    <p>{{ transaction.type }} {{ transaction.symbol }}: ${{ transaction.profit_loss }}</p>
    {% endfor %}
  </div>
</div>
{% endblock %}